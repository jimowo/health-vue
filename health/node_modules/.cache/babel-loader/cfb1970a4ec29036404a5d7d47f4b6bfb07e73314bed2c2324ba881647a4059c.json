{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"@/views/login\";\nimport Home from \"@/views/home\";\nimport welcome from \"@/views/welcome\";\nimport store from \"@/store\";\nimport ajax from \"@/utils/ajax\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/login\",\n  name: \"login\",\n  component: Login\n}, {\n  path: \"/home\",\n  name: \"home\",\n  component: Home,\n  children: [{\n    path: \"/home/welcome\",\n    component: welcome\n  }]\n}];\nconst router = new VueRouter({\n  routes\n});\n\n/**\n * 路由导航\n * to； 将要去哪个页面\n * from：从哪个页面过来\n * next: 放行到哪个页面\n */\nrouter.beforeEach((to, from, next) => {\n  // 用户是否登录\n  const token = sessionStorage.getItem(\"token\");\n  if (!token) {\n    if (to.path === \"/login\") {\n      next();\n    }\n    next(\"/login\");\n  } else {\n    if (to.path === \"/\") {\n      next(\"/home\");\n    }\n    next();\n    // 判断vuex 中是否存在用户基本信息\n  }\n});\n\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","welcome","store","ajax","use","routes","path","name","component","children","router","beforeEach","to","from","next","token","sessionStorage","getItem"],"sources":["C:/Users/12524/Documents/health-vue/health/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"@/views/login\";\nimport Home from \"@/views/home\"\nimport welcome from \"@/views/welcome\";\nimport store from \"@/store\";\nimport ajax from \"@/utils/ajax\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/login\",\n    name: \"login\",\n    component: Login,\n  },\n  {\n    path: \"/home\",\n    name: \"home\",\n    component: Home,\n    children: [\n      {\n        path: \"/home/welcome\",\n        component: welcome,\n      },\n    ]\n  }\n];\n\nconst router = new VueRouter({\n  routes,\n});\n\n/**\n * 路由导航\n * to； 将要去哪个页面\n * from：从哪个页面过来\n * next: 放行到哪个页面\n */\nrouter.beforeEach((to, from, next) => {\n  // 用户是否登录\n  const token = sessionStorage.getItem(\"token\");\n  if (!token) {\n    if (to.path === \"/login\") {\n      next();\n    }\n    next(\"/login\");\n  } else {\n    if (to.path === \"/\") {\n      next(\"/home\")\n    }\n    next();\n    // 判断vuex 中是否存在用户基本信息\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,IAAI,MAAM,cAAc;AAE/BN,GAAG,CAACO,GAAG,CAACN,SAAS,CAAC;AAElB,MAAMO,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAET;AACb,CAAC,EACD;EACEO,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAER,IAAI;EACfS,QAAQ,EAAE,CACR;IACEH,IAAI,EAAE,eAAe;IACrBE,SAAS,EAAEP;EACb,CAAC;AAEL,CAAC,CACF;AAED,MAAMS,MAAM,GAAG,IAAIZ,SAAS,CAAC;EAC3BO;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACAK,MAAM,CAACC,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAI,CAACF,KAAK,EAAE;IACV,IAAIH,EAAE,CAACN,IAAI,KAAK,QAAQ,EAAE;MACxBQ,IAAI,EAAE;IACR;IACAA,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACL,IAAIF,EAAE,CAACN,IAAI,KAAK,GAAG,EAAE;MACnBQ,IAAI,CAAC,OAAO,CAAC;IACf;IACAA,IAAI,EAAE;IACN;EACF;AACF,CAAC,CAAC;;AAEF,eAAeJ,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}