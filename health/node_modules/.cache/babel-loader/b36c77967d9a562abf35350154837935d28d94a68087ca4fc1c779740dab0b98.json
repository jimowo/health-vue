{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"@/views/login\";\nimport Home from \"@/views/home\";\nimport store from \"@/store\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/login\",\n  name: \"login\",\n  component: Login\n}, {\n  path: \"/home\",\n  name: \"home\",\n  component: Home\n}];\nconst router = new VueRouter({\n  routes\n});\n\n/**\n * 路由导航\n * to； 将要去哪个页面\n * from：从哪个页面过来\n * next: 放行到哪个页面\n */\nrouter.beforeEach((to, from, next) => {\n  // 用户是否登录\n  const token = sessionStorage.getItem(\"token\");\n  if (!token) {\n    if (to.path === \"/login\") {\n      next();\n    }\n    next(\"/login\");\n  } else {\n    if (to.path === \"/\") {\n      next(\"/home\");\n    }\n    next();\n    // 判断vuex 中是否存在用户基本信息\n  }\n});\n\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Login","Home","store","use","routes","path","name","component","router","beforeEach","to","from","next","token","sessionStorage","getItem"],"sources":["C:/Users/12524/Documents/health-vue/health/src/router/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Login from \"@/views/login\";\nimport Home from  \"@/views/home\"\nimport store from \"@/store\";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: \"/login\",\n    name: \"login\",\n    component: Login,\n  },\n  {\n    path: \"/home\",\n    name: \"home\",\n    component: Home,\n  }\n];\n\nconst router = new VueRouter({\n  routes,\n});\n\n/**\n * 路由导航\n * to； 将要去哪个页面\n * from：从哪个页面过来\n * next: 放行到哪个页面\n */\nrouter.beforeEach((to, from, next) => {\n  // 用户是否登录\n  const token = sessionStorage.getItem(\"token\");\n  if (!token) {\n    if (to.path === \"/login\") {\n      next();\n    }\n    next(\"/login\");\n  } else {\n    if (to.path === \"/\") {\n      next(\"/home\")\n    }\n    next();\n    // 判断vuex 中是否存在用户基本信息\n    \n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,IAAI,MAAO,cAAc;AAChC,OAAOC,KAAK,MAAM,SAAS;AAE3BJ,GAAG,CAACK,GAAG,CAACJ,SAAS,CAAC;AAElB,MAAMK,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEP;AACb,CAAC,EACD;EACEK,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEN;AACb,CAAC,CACF;AAED,MAAMO,MAAM,GAAG,IAAIT,SAAS,CAAC;EAC3BK;AACF,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACAI,MAAM,CAACC,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC;EACA,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAI,CAACF,KAAK,EAAE;IACV,IAAIH,EAAE,CAACL,IAAI,KAAK,QAAQ,EAAE;MACxBO,IAAI,EAAE;IACR;IACAA,IAAI,CAAC,QAAQ,CAAC;EAChB,CAAC,MAAM;IACL,IAAIF,EAAE,CAACL,IAAI,KAAK,GAAG,EAAE;MACnBO,IAAI,CAAC,OAAO,CAAC;IACf;IACAA,IAAI,EAAE;IACN;EAEF;AACF,CAAC,CAAC;;AAEF,eAAeJ,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}